<?xml version = '1.0' encoding = 'utf-8'?>
<dataModel xmlns="http://xmlns.oracle.com/oxp/xmlp" version="2.0" xmlns:xdm="http://xmlns.oracle.com/oxp/xmlp" xmlns:xsd="http://wwww.w3.org/2001/XMLSchema" defaultDataSourceRef="Oracle BI EE">
   <description>
      <![CDATA[Data%20Source:%20Sample%20Sales%20BI%20Server%20subject%20area%20%0A--Structure:%20Flat%20XML%20%0A--Features:%20Parameters%20with%20cascading%20LOVs]]>
   </description>
   <dataProperties>
      <property name="include_parameters" value="true"/>
      <property name="include_null_Element" value="true"/>
      <property name="include_rowsettag" value="false"/>
      <property name="xml_tag_case" value="upper"/>
   </dataProperties>
   <dataSets>
      <dataSet name="Q1 Office Sales" type="complex">
         <sql dataSourceRef="Oracle BI EE">
            <![CDATA[select	 "Offices"."D4  Company" as "D4  Company",
	 "Offices"."D3  Organization" as "D3  Organization",
	 "Offices"."D2  Department" as "D2  Department",
	 "Offices"."D1  Office" as "D1  Office",
	 "Base Facts"."1- Revenue" as "1- Revenue",
	 "Base Facts"."5- Target Revenue" as "5- Target Revenue",
	 "Time"."T05 Per Name Year" as "T05 Per Name Year",
	 "Products"."P4  Brand" as "P4  Brand",
	 "Products"."P2  Product Type" as "P2  Product Type",
	 "Products"."P1  Product" as "P1  Product" 
 from	"A - Sample Sales"."Products" "Products",
	"A - Sample Sales"."Time" "Time",
	"A - Sample Sales"."Base Facts" "Base Facts",
	"A - Sample Sales"."Offices" "Offices" 
 where 	 "Offices"."D4  Company" IN (:P_COMPANY) 
   and	 "Offices"."D1  Office" IN (:P_OFFICE) 
   and	 "Time"."T05 Per Name Year" IN (:P_YEAR)]]>
         </sql>
      </dataSet>
   </dataSets>
   <output rootName="DATA_DS" uniqueRowName="false">
      <nodeList name="data-structure">
         <dataStructure tagName="DATA_DS">
            <group name="G_1" label="G_1" source="Q1 Office Sales">
               <element name="COMPANY" value="D4  COMPANY" label="COMPANY" dataType="xsd:string" breakOrder="None" fieldOrder="1"/>
               <element name="ORGANIZATION" value="D3  ORGANIZATION" label="ORGANIZATION" dataType="xsd:string" breakOrder="None" fieldOrder="2"/>
               <element name="DEPARTMENT" value="D2  DEPARTMENT" label="DEPARTMENT" dataType="xsd:string" breakOrder="None" fieldOrder="3"/>
               <element name="OFFICE" value="D1  OFFICE" label="OFFICE" dataType="xsd:string" breakOrder="None" fieldOrder="4"/>
               <element name="REVENUE" value="1- REVENUE" label="REVENUE" dataType="xsd:double" breakOrder="None" fieldOrder="5"/>
               <element name="TARGET_REVENUE" value="5- TARGET REVENUE" label="TARGET REVENUE" dataType="xsd:double" breakOrder="None" fieldOrder="6"/>
               <element name="PER_NAME_YEAR" value="T05 PER NAME YEAR" label="YEAR" dataType="xsd:string" breakOrder="None" fieldOrder="7"/>
               <element name="BRAND" value="P4  BRAND" label="BRAND" dataType="xsd:string" breakOrder="None" fieldOrder="8"/>
               <element name="PRODUCT_TYPE" value="P2  PRODUCT TYPE" label="PRODUCT TYPE" dataType="xsd:string" breakOrder="None" fieldOrder="9"/>
               <element name="PRODUCT" value="P1  PRODUCT" label="PRODUCT" dataType="xsd:string" breakOrder="None" fieldOrder="10"/>
            </group>
         </dataStructure>
      </nodeList>
   </output>
   <eventTriggers/>
   <lexicals/>
   <valueSets>
      <valueSet id="YEAR_LOV">
         <sql dataSourceRef="Oracle BI EE">
            <![CDATA[select	 "Time"."T05 Per Name Year" as "T05 Per Name Year" 
 from	"A - Sample Sales"."Time" "Time" 
 where 	 "Time"."T05 Per Name Year" in ('2013','2014','2015')
order by   "Time"."T05 Per Name Year"]]>
         </sql>
      </valueSet>
      <valueSet id="COMPANY_LOV">
         <sql dataSourceRef="Oracle BI EE">
            <![CDATA[select	 "Offices"."D4  Company" as "D4  Company" 
 from	"A - Sample Sales"."Offices" "Offices"]]>
         </sql>
      </valueSet>
      <valueSet id="OFFICE_LOV">
         <sql dataSourceRef="Oracle BI EE">
            <![CDATA[select	 "Offices"."D1  Office" as "D1  Office"
 from	"A - Sample Sales"."Offices" "Offices" 
 where 	 "Offices"."D4  Company" In (:P_COMPANY)]]>
         </sql>
         <input id="P_COMPANY" value="${P_COMPANY}" dataType="xsd:string"/>
      </valueSet>
   </valueSets>
   <parameters>
      <parameter name="P_YEAR" defaultValue="2009" dataType="xsd:string">
         <select label="Year" valueSet="YEAR_LOV" multiple="false" all="false" allValue="lov"/>
      </parameter>
      <parameter name="P_COMPANY" defaultValue="Stockplus Inc." dataType="xsd:string">
         <select label="Company Name" valueSet="COMPANY_LOV" multiple="false" all="false" allValue="lov" refreshParameters="true"/>
      </parameter>
      <parameter name="P_OFFICE" defaultValue="Eden Office" dataType="xsd:string">
         <select label="Office Name" valueSet="OFFICE_LOV" multiple="true" all="true" allValue="lov"/>
      </parameter>
   </parameters>
   <bursting/>
   <display>
      <layouts>
         <layout name="Q1 Office Sales" left="103px" top="445px"/>
         <layout name="DATA_DS" left="0px" top="445px"/>
      </layouts>
      <groupLinks/>
   </display>
</dataModel>
