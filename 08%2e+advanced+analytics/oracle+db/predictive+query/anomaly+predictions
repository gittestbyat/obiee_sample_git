<?xml version="1.0" encoding="utf-8"?>
<saw:report xmlns:saw="com.siebel.analytics.web/report/v1.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlVersion="201201160" xmlns:sawx="com.siebel.analytics.web/expression/v1.1"><saw:criteria xsi:type="saw:physicalCriteria" connectionPool="&quot;X0 - Airlines Demo Dbs (ORCL)&quot;.&quot;Atomic Connection&quot;"><saw:columns><saw:column columnID="c0" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>RK</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c1" xsi:type="saw:physicalColumnRef"><saw:displayFormat><saw:formatSpec suppress="repeat" wrapText="true"><saw:dataFormat xsi:type="saw:number" minDigits="3" maxDigits="3" commas="false" negativeType="minus"/></saw:formatSpec></saw:displayFormat><saw:tableHeading/><saw:columnHeading><saw:caption fmt="html"><saw:text>PROBANOM</saw:text></saw:caption><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:columnHeading></saw:column><saw:column columnID="c2" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>ANOM_DET</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c3" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>FLIGHT</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c4" xsi:type="saw:physicalColumnRef"><saw:displayFormat><saw:formatSpec suppress="suppress" wrapText="true"><saw:dataFormat xsi:type="saw:custom" customFormat="dd-MMM-yy"/></saw:formatSpec></saw:displayFormat><saw:tableHeading/><saw:columnHeading><saw:caption fmt="html"><saw:text>FLIGHTDATE</saw:text></saw:caption><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:columnHeading></saw:column><saw:column columnID="c5" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>DAYOFMONTH</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c6" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>DAYOFWEEK</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c7" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>DEPTIMEBLK</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c8" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>ARRTIMEBLK</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c9" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>CARRIER</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c10" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>TAILNUM</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c11" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>DEPDELAY</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c12" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>ARRDELAY</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c13" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>CANCELLED</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c14" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>DIVERTED</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c15" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>AIRTIME</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column columnID="c16" xsi:type="saw:physicalColumnRef"><saw:columnHeading><saw:caption><saw:text>DISTANCE</saw:text></saw:caption></saw:columnHeading></saw:column></saw:columns><saw:sql>Select *
from (
   select rank() over (order by probanom desc) rk, probanom, 
   extract(anom_det,&#39;/Details/Attribute&#39;).getStringVal() anom_det,
   FLIGHT, FLIGHTDATE,DAYOFMONTH,DAYOFWEEK,DEPTIMEBLK,ARRTIMEBLK,CARRIER,
   TAILNUM,DEPDELAY,ARRDELAY,CANCELLED,DIVERTED,AIRTIME,DISTANCE
   from (
     select
      carrier||flightnum FLIGHT, FLIGHTDATE, DAYOFMONTH,DAYOFWEEK,DEPTIMEBLK,ARRTIMEBLK,CARRIER,TAILNUM,DEPDELAY,ARRDELAY,CANCELLED,DIVERTED,AIRTIME,DISTANCE,
      prediction_probability(of anomaly, 0 using @{flightattr}{*}) over () probanom,
	    prediction_details(OF ANOMALY, 0, 3 USING @{flightattr}{*}) over () anom_det
     from PERFORMANCE
	 where origin = &#39;@{origairport}{LAX}&#39; and dest = &#39;@{destairport}{SFO}&#39; and @{predicate}{1=1}
   )
)
where rk &lt;= @{ranklimit}{10}
order by probanom desc;</saw:sql></saw:criteria><saw:views currentView="1"><saw:view xsi:type="saw:compoundView" name="compoundView!1"><saw:cvTable><saw:cvRow><saw:cvCell viewName="titleView!1"><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:cvCell></saw:cvRow><saw:cvRow><saw:cvCell viewName="tableView!1"><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:cvCell></saw:cvRow></saw:cvTable></saw:view><saw:view xsi:type="saw:titleView" name="titleView!1" includeName="false" startedDisplay="none"><saw:title><saw:caption fmt="text"><saw:text>Top @{ranklimit}{10} anomalous flights found for route @{origairport}{} - @{destairport}{}</saw:text></saw:caption><saw:displayFormat><saw:formatSpec fontFamily="Arial" fontColor="#000000" wrapText="true" fontSize="16" fontStyle="regular"/></saw:displayFormat></saw:title><saw:subTitle><saw:caption fmt="text"><saw:text>Filters: @{predicate}{none}</saw:text></saw:caption><saw:displayFormat><saw:formatSpec fontFamily="Arial" fontColor="#666666" fontSize="12" wrapText="true"/></saw:displayFormat></saw:subTitle><saw:displayFormat><saw:formatSpec borderColor="#666666" borderPosition="8" wrapText="true"/></saw:displayFormat></saw:view><saw:view xsi:type="saw:tableView" name="tableView!1" width="1100" autoPreview="true" rowsPerPage="50"><saw:edges><saw:edge axis="page" showColumnHeader="true"/><saw:edge axis="section"/><saw:edge axis="row" showColumnHeader="true"><saw:edgeLayers><saw:edgeLayer type="column" columnID="c0" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true"/></saw:displayFormat><saw:caption><saw:text>Rank</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c1" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true" width="40"/></saw:displayFormat><saw:caption><saw:text>Prediction Probability</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c3" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true" width="40"/></saw:displayFormat><saw:caption><saw:text>Flight</saw:text></saw:caption></saw:headerFormat><saw:memberFormat><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:memberFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c4" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true"/></saw:displayFormat><saw:caption><saw:text>Date</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c5" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true" width="40"/></saw:displayFormat><saw:caption><saw:text>Day of Month</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c6" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true" width="40"/></saw:displayFormat><saw:caption><saw:text>Day of Week</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c7" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true" width="40"/></saw:displayFormat><saw:caption><saw:text>Dep Timeblock</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c8" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true" width="40"/></saw:displayFormat><saw:caption><saw:text>Arr Timeblock</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c9" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true"/></saw:displayFormat><saw:caption><saw:text>Carrier</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c10" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true" width="40"/></saw:displayFormat><saw:caption><saw:text>Tail No</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c11" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true" width="40"/></saw:displayFormat><saw:caption><saw:text>Dep Delay</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c12" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true" width="40"/></saw:displayFormat><saw:caption><saw:text>Arr Delay</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c13" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true"/></saw:displayFormat><saw:caption><saw:text>Cancelled</saw:text></saw:caption></saw:headerFormat><saw:memberFormat><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:memberFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c14" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true"/></saw:displayFormat><saw:caption><saw:text>Diverted</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c15" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true"/></saw:displayFormat><saw:caption><saw:text>Airtime</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c16" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true"/></saw:displayFormat><saw:caption><saw:text>Distance</saw:text></saw:caption></saw:headerFormat></saw:edgeLayer><saw:edgeLayer type="column" columnID="c2" uiTableName=""><saw:headerFormat><saw:displayFormat><saw:formatSpec wrapText="true"/></saw:displayFormat><saw:caption><saw:text>Anomaly Details</saw:text></saw:caption></saw:headerFormat><saw:memberFormat><saw:displayFormat><saw:formatSpec width="250" fontSize="9" wrapText="true"/></saw:displayFormat></saw:memberFormat></saw:edgeLayer></saw:edgeLayers></saw:edge><saw:edge axis="column" showColumnHeader="rollover"/></saw:edges></saw:view></saw:views></saw:report>